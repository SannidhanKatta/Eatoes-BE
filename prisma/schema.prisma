// This is your Prisma schema file
datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

model Order {
    id           Int      @id @default(autoincrement())
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
    customerName String
    phoneNumber  String
    items        Json[] // Stores array of menu items with quantities
    totalAmount  Float
    status       String   @default("pending") // pending, completed, cancelled
    notes        String?

    @@index([phoneNumber])
}

// For future authentication and user management
model User {
    id          Int      @id @default(autoincrement())
    phoneNumber String   @unique
    name        String
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
    isAdmin     Boolean  @default(false)
}
